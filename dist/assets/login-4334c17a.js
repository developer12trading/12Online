import{u as w,o as n,c as a,a as s,w as g,b as d,v as c,d as p,t as u,e as m,f as h,g as b,p as v,h as x}from"./index-c17fb389.js";import{S as _}from"./sweetalert2.all-9555961e.js";import{_ as y}from"./logo-onetwo-a7d2a24b.js";import{_ as k,a as P,b as L}from"./makro-7e250706.js";import{_ as j}from"./amaze-72ddaead.js";import{_ as C}from"./logo-fplus-b68f338a.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const M={data(){return{userLogin:"",passwordLogin:"",showPassword:!1,loading:!1,error:"",showChangePassword:!1,changeForm:{oldPassword:"",newPassword:"",confirmPassword:""},changeError:""}},methods:{async SignIn(){if(!this.userLogin||!this.passwordLogin){this.error="กรุณากรอกข้อมูลให้ครบถ้วน";return}this.loading=!0,this.error="";try{const i=w();await new Promise(f=>setTimeout(f,2e3));const e=await i.login(this.userLogin,this.passwordLogin);e&&e.status===200?(this.userLogin="",this.passwordLogin="",this.$router.push("/onlineManage")):e&&e.status===403?this.error=e.message||"คุณไม่มีสิทธิ์เข้าถึงระบบนี้ กรุณาติดต่อผู้ดูแลระบบ":e&&(e.code==="PASSWORD_EXPIRED"||e.error==="PASSWORD_EXPIRED")?(this.showChangePassword=!0,this.changeForm.oldPassword=this.passwordLogin,this.changeForm.newPassword="",this.changeForm.confirmPassword="",this.changeError=""):e&&e.status===401?this.error="รหัสผ่านผิด":this.error=(e==null?void 0:e.error)||(e==null?void 0:e.message)||"เข้าสู่ระบบไม่สำเร็จ"}catch(i){this.error="เกิดข้อผิดพลาดในการเข้าสู่ระบบ",console.error("Login error:",i)}finally{this.loading=!1}},async submitChangePassword(){if(this.changeError="",!this.changeForm.oldPassword||!this.changeForm.newPassword||!this.changeForm.confirmPassword){this.changeError="กรุณากรอกข้อมูลให้ครบถ้วน";return}if(this.changeForm.newPassword!==this.changeForm.confirmPassword){this.changeError="รหัสผ่านใหม่ไม่ตรงกัน";return}if(this.changeForm.newPassword.length<6){this.changeError="รหัสผ่านใหม่ต้องมีอย่างน้อย 6 ตัวอักษร";return}try{await _.fire({title:"สำเร็จ",text:"เปลี่ยนรหัสผ่านสำเร็จ กรุณาเข้าสู่ระบบใหม่",icon:"success",confirmButtonText:"ตกลง"}),this.showChangePassword=!1,this.passwordLogin=""}catch(i){this.changeError=i.message||"เกิดข้อผิดพลาด"}}}},t=i=>(v("data-v-8d7f51cf"),i=i(),x(),i),F={class:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-[#0d75ad] via-blue-700 to-[#0369a1] relative overflow-hidden"},E=t(()=>s("div",{class:"absolute inset-0 overflow-hidden"},[s("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-white opacity-10 rounded-full"}),s("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-white opacity-10 rounded-full"}),s("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white opacity-5 rounded-full"})],-1)),z={class:"max-w-md w-full space-y-6 relative z-10"},B=b('<div class="text-center bg-white/10 backdrop-blur-sm rounded-2xl p-4 border border-white/20 shadow-2xl" data-v-8d7f51cf><div class="mb-2" data-v-8d7f51cf><img src="'+y+'" alt="Logo" class="mx-auto h-16 w-auto drop-shadow-lg" data-v-8d7f51cf></div><div class="grid grid-cols-4 gap-6 mb-2 max-w-xs mx-auto" data-v-8d7f51cf><div class="bg-white/20 backdrop-blur-sm rounded-xl p-2 flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200" data-v-8d7f51cf><img src="'+k+'" alt="Shopee" class="h-8 w-8 object-contain" data-v-8d7f51cf></div><div class="bg-white/20 backdrop-blur-sm rounded-xl p-2 flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200" data-v-8d7f51cf><img src="'+P+'" alt="Lazada" class="h-8 w-8 object-contain" data-v-8d7f51cf></div><div class="bg-white/20 backdrop-blur-sm rounded-xl p-2 flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200" data-v-8d7f51cf><img src="'+L+'" alt="Makro" class="h-8 w-8 object-contain rounded-full" data-v-8d7f51cf></div><div class="bg-white/20 backdrop-blur-sm rounded-xl p-2 flex items-center justify-center shadow-lg hover:scale-105 transition-transform duration-200" data-v-8d7f51cf><img src="'+j+'" alt="Amaze" class="h-8 w-8 object-contain rounded-full" data-v-8d7f51cf></div></div><div class="space-y-2" data-v-8d7f51cf><h2 class="text-xl font-bold text-white drop-shadow-lg" data-v-8d7f51cf>เข้าสู่ระบบ</h2><p class="text-blue-100 text-sm font-medium" data-v-8d7f51cf>ระบบจัดการขายออนไลน์</p></div></div>',1),V={class:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 p-4"},D={class:"space-y-2"},I=t(()=>s("label",{for:"username",class:"block text-sm font-semibold text-gray-700"}," ชื่อผู้ใช้ ",-1)),A={class:"relative group"},T=t(()=>s("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[s("svg",{class:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),U=["disabled"],q={class:"space-y-2"},H=t(()=>s("label",{for:"password",class:"block text-sm font-semibold text-gray-700"}," รหัสผ่าน ",-1)),N={class:"relative group"},R=t(()=>s("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[s("svg",{class:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),O=["type","disabled"],W={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X=t(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)),G=[X],J={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K=t(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)),Q=t(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)),Y=[K,Q],Z={key:0,class:"bg-red-50 border border-red-200 rounded-xl p-4 shadow-sm"},$={class:"flex items-center"},ss=t(()=>s("svg",{class:"h-5 w-5 text-red-400 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),es={class:"text-sm text-red-700 font-medium"},os=["disabled"],ts={key:0,class:"animate-spin h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rs=t(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)),is=[rs],ns={key:1,class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},as=t(()=>s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},null,-1)),ds=[as],ls=t(()=>s("div",{class:"mt-4 p-3 bg-gray-50 rounded-lg"},[s("div",{class:"flex items-center mb-2"},[s("h4",{class:"text-xs font-medium text-gray-700"},"ข้อมูลเข้าสู่ระบบ:")]),s("div",{class:"text-xs text-gray-600 space-y-0.5"},[s("p",null,[s("strong",null,"Username:"),h(" ชื่อภาษาอังกฤษ.(3 ตัวอักษรแรกของนามสกุลผู้ใช้)")]),s("p",null,[s("strong",null,"Password:"),h(" รหัสผ่านเดียวกับเข้าสู่ระบบคอมพิวเตอร์")])])],-1)),cs=t(()=>s("div",{class:"text-center"},[s("div",{class:"flex items-center justify-center text-blue-100 text-xs"},[s("img",{src:C,alt:"Logo",class:"h-4 w-auto mr-2"}),h(" Copyright One Two Trading Co., Ltd. All rights reserved. ")])],-1)),hs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},us={class:"bg-white rounded-lg shadow-xl w-full max-w-xs p-6 relative"},ms=t(()=>s("h3",{class:"text-lg font-semibold mb-4 text-center"},"รหัสผ่านหมดอายุ",-1)),fs=t(()=>s("label",{class:"block text-xs mb-1"},"รหัสผ่านเก่า",-1)),gs=t(()=>s("label",{class:"block text-xs mb-1"},"รหัสผ่านใหม่",-1)),ws=t(()=>s("label",{class:"block text-xs mb-1"},"ยืนยันรหัสผ่านใหม่",-1)),ps={key:0,class:"text-xs text-red-500"},bs={class:"flex justify-end space-x-2 mt-2"},vs=t(()=>s("button",{type:"submit",class:"px-3 py-1 rounded bg-[#00569D] text-white"},"เปลี่ยนรหัสผ่าน",-1));function xs(i,e,f,_s,o,l){return n(),a("div",F,[E,s("div",z,[B,s("div",V,[s("form",{onSubmit:e[3]||(e[3]=g((...r)=>l.SignIn&&l.SignIn(...r),["prevent"])),class:"space-y-6"},[s("div",D,[I,s("div",A,[T,d(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=r=>o.userLogin=r),type:"text",required:"",disabled:o.loading,class:"block w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed text-sm transition-all duration-200 shadow-sm hover:shadow-md",placeholder:"กรอกชื่อผู้ใช้"},null,8,U),[[c,o.userLogin]])])]),s("div",q,[H,s("div",N,[R,d(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>o.passwordLogin=r),type:o.showPassword?"text":"password",required:"",disabled:o.loading,class:"block w-full pl-12 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed text-sm transition-all duration-200 shadow-sm hover:shadow-md",placeholder:"กรอกรหัสผ่าน"},null,8,O),[[p,o.passwordLogin]]),s("button",{type:"button",onClick:e[2]||(e[2]=r=>o.showPassword=!o.showPassword),class:"absolute inset-y-0 right-0 pr-4 flex items-center hover:text-gray-600 transition-colors"},[o.showPassword?(n(),a("svg",W,G)):(n(),a("svg",J,Y))])])]),o.error?(n(),a("div",Z,[s("div",$,[ss,s("p",es,u(o.error),1)])])):m("",!0),s("button",{type:"submit",disabled:o.loading||!o.userLogin||!o.passwordLogin,class:"w-full flex justify-center py-3 px-4 border border-transparent items-center rounded-xl shadow-lg text-sm font-semibold text-white bg-[#00569D] hover:bg-[#00569D] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 disabled:transform-none"},[o.loading?(n(),a("svg",ts,is)):(n(),a("svg",ns,ds)),h(" "+u(o.loading?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ"),1)],8,os)],32),ls]),cs]),o.showChangePassword?(n(),a("div",hs,[s("div",us,[ms,s("form",{onSubmit:e[8]||(e[8]=g((...r)=>l.submitChangePassword&&l.submitChangePassword(...r),["prevent"])),class:"space-y-3"},[s("div",null,[fs,d(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>o.changeForm.oldPassword=r),type:"password",class:"block w-full border rounded px-3 py-2 text-sm",required:""},null,512),[[c,o.changeForm.oldPassword]])]),s("div",null,[gs,d(s("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>o.changeForm.newPassword=r),type:"password",class:"block w-full border rounded px-3 py-2 text-sm",required:""},null,512),[[c,o.changeForm.newPassword]])]),s("div",null,[ws,d(s("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>o.changeForm.confirmPassword=r),type:"password",class:"block w-full border rounded px-3 py-2 text-sm",required:""},null,512),[[c,o.changeForm.confirmPassword]])]),o.changeError?(n(),a("div",ps,u(o.changeError),1)):m("",!0),s("div",bs,[s("button",{type:"button",onClick:e[7]||(e[7]=r=>o.showChangePassword=!1),class:"px-3 py-1 rounded bg-gray-200 text-gray-700"},"ยกเลิก"),vs])],32)])])):m("",!0)])}const Ms=S(M,[["render",xs],["__scopeId","data-v-8d7f51cf"]]);export{Ms as default};
